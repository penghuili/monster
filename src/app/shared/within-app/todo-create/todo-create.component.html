<mst-action-button *ngIf="useActionButton" [showPlus]="true" (clicked)="onOpen()"></mst-action-button>
<mst-icon *ngIf="!useActionButton" name="add" (click)="onOpen()"></mst-icon>

<mst-overlay *ngIf="isShow">
  <mst-input
    [control]="titleControl"
    [hasError]="hasError"
    [autoFocus]="true"></mst-input>
  
    <div fxLayout="row" fxLayoutAlign="space-between" [mstPadding]="'1rem 0'">
      <div *ngIf="subproject">{{ subproject.title }}</div>
      <mst-project-list *ngIf="!subproject"
        [activeProject]="currentSubproject"
        [showAll]="false"
        (selected)="onSelectProject($event)">
      </mst-project-list>

      <mst-datepicker *ngIf="subproject || (currentSubproject && currentSubproject.id !== INBOX.id)" (finish)="onFinishPickDate($event)"></mst-datepicker>
      <mst-duration-picker [duration]="expectedTime" (change)="onDurationChange($event)"></mst-duration-picker>
  </div>
  
  <mst-input
    [control]="noteControl"
    minHeight="3rem"></mst-input>
  
  <mst-cancel-confirm
    (confirm)="onCreate()"
    (cancel)="onCancel()"></mst-cancel-confirm>
</mst-overlay>
