<ng-container *ngIf="todo && currentProject">
  <mst-input
    [control]="titleControl"
    [hasError]="hasError"></mst-input>

  <div fxLayout="row" fxLayoutAlign="space-between" [mstPadding]="'1rem 0'">
    <mst-project-list
      [activeProject]="currentProject"
      [showAll]="false"
      (selected)="onSelectProject($event)">
    </mst-project-list>
    <mst-datepicker [defaultDate]="todo.happenDate" (finish)="onFinishPickDate($event)"></mst-datepicker>
    <mst-duration-picker [duration]="todo.expectedTime" (change)="onDurationChange($event)"></mst-duration-picker>
  </div>

  <mst-wrapper
    display="block"
    padding="1rem"
    [borderAll]="true">
    <mst-input
      [control]="noteControl"
      minHeight="3rem"></mst-input>
  </mst-wrapper>
  
  <mst-cancel-confirm
    (confirm)="onUpdate()"
    (cancel)="onCancel()"></mst-cancel-confirm>
</ng-container>
